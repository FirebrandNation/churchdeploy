// Generated by CoffeeScript 1.4.0
(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){this.toggleBounce=t(this.toggleBounce,this);this.mark=t(this.mark,this);this.map=t(this.map,this);this.updateFormDate=t(this.updateFormDate,this);this.map()}e.prototype.updateFormDate=function(){return $(".form-birthday").val(""+$(".birthday-date-year").val()+"-"+$(".birthday-date-month").val()+"-"+$(".birthday-date-day").val())};e.prototype.map=function(){var e,t,n,r,i,s;n=[{featureType:"all",elementType:"all",stylers:[{saturation:-50}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[]}];t=new google.maps.StyledMapType(n,{name:"Styled Map"});this.map=new google.maps.Map(document.getElementById("map_canvas"),{mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,minZoom:4,mapTypeControl:!1,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}});this.bounds=new google.maps.LatLngBounds;this.locations=[];this.latlngs=$(".map .locations .location");s=this.latlngs;for(r=0,i=s.length;r<i;r++){e=s[r];this.mark(e)}this.map.mapTypes.set("map_style",t);this.map.setMapTypeId("map_style");this.map.fitBounds(this.bounds);return this.map.panToBounds(this.bounds)};e.prototype.mark=function(e){var t,n,r,i;r=new google.maps.LatLng($(e).data("lat"),$(e).data("lng"));this.locations.push(r);i=new google.maps.Marker({position:r,map:this.map,title:$(e).data("title")});n=$(e).find(".info-window-container").html();$(e).find(".info-window-container").remove();t=new google.maps.InfoWindow({content:n});this.bounds.extend(r);return google.maps.event.addListener(i,"click",function(){t.open(this.map,i);return this.map.panTo(i.getPosition())})};e.prototype.toggleBounce=function(){return marker.getAnimation()!==null?marker.setAnimation(null):marker.setAnimation(google.maps.Animation.BOUNCE)};return e}()}).call(this);